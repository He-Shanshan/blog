(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{287:function(s,t,a){"use strict";a.r(t);var n=a(0),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"wxml-数据渲染"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wxml-数据渲染"}},[s._v("#")]),s._v(" WXML 数据渲染")]),s._v(" "),a("h3",{attrs:{id:"列表渲染"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#列表渲染"}},[s._v("#")]),s._v(" 列表渲染")]),s._v(" "),a("h4",{attrs:{id:"wx-for"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wx-for"}},[s._v("#")]),s._v(" wx:for")]),s._v(" "),a("p",[s._v("在组件上使用"),a("code",[s._v("wx:for")]),s._v("控制属性宝能搞定一个数组，即可使用数组中各项的数据重复渲染该组件。"),a("br"),s._v("\n默认数组的当前项下标变量名默认为"),a("code",[s._v("index")]),s._v("，数组当前项的变量名默认为"),a("code",[s._v("item")]),s._v("。")]),s._v(" "),a("div",{staticClass:"language-WXML line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('\x3c!-- 列表渲染 --\x3e\n<view wx:for="{{list}}" >{{item}}</view>\n<view wx:for="{{list}}" wx:for-item="listItem">{{index}}----{{listItem}}</view>\n<view wx:for="{{list}}" wx:for-item="listItem" wx:for-index="listIndex">{{listIndex}}----{{listItem}}</view>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("div",{staticClass:"language-WXML line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<block wx:for="abcd">\n<text>{{index}}----</text>\n<text>{{item}}</text>\n</block>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("显示：\n0----a1----b2----c3----d")]),s._v(" "),a("div",{staticClass:"language-WXML line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<block wx:for="{{list}}" wx:key="key">\n<text>{{index}}----</text>\n<text>{{item.name}}</text>\n</block>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"22"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1233"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"33"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1234"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"44"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1235"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("显示\n"),a("code",[s._v("0----221----332----44")])]),s._v(" "),a("h3",{attrs:{id:"条件渲染"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#条件渲染"}},[s._v("#")]),s._v(" 条件渲染")]),s._v(" "),a("h4",{attrs:{id:"wx-if"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wx-if"}},[s._v("#")]),s._v(" wx:if")]),s._v(" "),a("p",[s._v("wx:elif,wx:else 可参考数据绑定")]),s._v(" "),a("h4",{attrs:{id:"block-wx-if"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#block-wx-if"}},[s._v("#")]),s._v(" block wx:if")]),s._v(" "),a("p",[s._v("用于一次性判断多个组件标签，可以使用一个"),a("code",[s._v("<block/>")]),s._v("将多个组件包装起来，并且在上边使用wx:if控制属性")]),s._v(" "),a("div",{staticClass:"language-WXML line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<block wx:if="{{condition}}">\n<view>{{person.name}}</view>\n<view>{{person.name}}</view>\n</block>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("并不是一个组件，它仅仅是一个包装元素，不会在页面中做任何渲染，只接受控制属性。")]),s._v(" "),a("h4",{attrs:{id:"wx-if-vs-hidden"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wx-if-vs-hidden"}},[s._v("#")]),s._v(" wx:if vs hidden")]),s._v(" "),a("p",[s._v("因为"),a("code",[s._v("wx:if")]),s._v("之中的模板也可能包含数据绑定，所以当"),a("code",[s._v("wx:if")]),s._v("的条件值切换时，框架有一个局部渲染的过程，因为它会确保条件块在切换时销毁或重新渲染。"),a("br"),s._v("\n同时"),a("code",[s._v("wx:if")]),s._v("也是惰性的，如果在初始渲染条件为"),a("code",[s._v("false")]),s._v("，框架什么也不做，在条件第一次变成真的时候才开始局部渲染。相比之下，"),a("code",[s._v("hidden")]),s._v("就简单的多，组件始终会被渲染，只是简单的控制显示与隐藏。"),a("br"),s._v("\n一般来说，"),a("code",[s._v("wx:if")]),s._v("有更高的切换消耗而"),a("code",[s._v("hidden")]),s._v("有更高的初始渲染消耗，因此，如果需要频繁切换的情景下，用"),a("code",[s._v("hidden")]),s._v("更好，如果运行时条件不大可能改变则"),a("code",[s._v("wx:if")]),s._v("更好。")]),s._v(" "),a("h3",{attrs:{id:"模板"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模板"}},[s._v("#")]),s._v(" 模板")]),s._v(" "),a("p",[s._v("WXMl提供模板，可以在模板中定义代码片段，然后在不同的地方调用。")]),s._v(" "),a("h4",{attrs:{id:"定义模板"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#定义模板"}},[s._v("#")]),s._v(" 定义模板")]),s._v(" "),a("p",[s._v("使用"),a("code",[s._v("name")]),s._v("属性，作为模板的名字，然后在"),a("code",[s._v("<template/>")]),s._v("内定义代码片段。")]),s._v(" "),a("div",{staticClass:"language-WXML line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<template is="msgItem" data="{{...item}}"></template>\n<template name="msgItem">\n  <view>\n    <text>{{index}}:{{msg}}</text>\n    <text>Time:{{time}}</text>\n  </view>\n</template>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      msg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2019"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//0:helloTime:2019")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h4",{attrs:{id:"引用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#引用"}},[s._v("#")]),s._v(" 引用")]),s._v(" "),a("h4",{attrs:{id:"import"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#import"}},[s._v("#")]),s._v(" import")]),s._v(" "),a("p",[a("code",[s._v("import")]),s._v("可以在该文件中使用目标文件定义的"),a("code",[s._v("template")]),s._v("。")]),s._v(" "),a("div",{staticClass:"language-WXML line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<template name="msgItem">\n  <view>\n    <text>{{index}}:{{msg}}</text>\n    <text>Time:{{time}}</text>\n  </view>\n</template>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("在index.wxml中引入，上面的模板，就可以使用该模板")]),s._v(" "),a("div",{staticClass:"language-WXML line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<import src="../demo1/demo1.wxml"/>\n<template is="msgItem" data="{{...item}}"></template>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    msg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2019"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h4",{attrs:{id:"import的作用域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#import的作用域"}},[s._v("#")]),s._v(" import的作用域")]),s._v(" "),a("p",[a("code",[s._v("import")]),s._v("有作用域的概念，即只会"),a("code",[s._v("import")]),s._v("目标文件中定义的"),a("code",[s._v("template")]),s._v("，而不会"),a("code",[s._v("import")]),s._v("目标文件"),a("code",[s._v("import")]),s._v("的"),a("code",[s._v("template")]),s._v("。"),a("br"),s._v("\n如：C import B，B import A，在C中可以使用B中所定义的template，在B中可以使用A定义的template，但是C不能使用A定义的template。")]),s._v(" "),a("h4",{attrs:{id:"include"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#include"}},[s._v("#")]),s._v(" include")]),s._v(" "),a("p",[a("code",[s._v("include")]),s._v("可以将目标文件除了"),a("code",[s._v("<template/>``<wxs/>")]),s._v("外的整个代码引入，相当于是拷贝到"),a("code",[s._v("include")]),s._v("位置，如：")]),s._v(" "),a("div",{staticClass:"language-WXML line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<include src="../index/index.wxml"/>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);