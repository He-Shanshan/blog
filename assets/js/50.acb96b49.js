(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{269:function(s,t,a){"use strict";a.r(t);var r=a(0),n=Object(r.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"nginx高性能web服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx高性能web服务器"}},[s._v("#")]),s._v(" Nginx高性能Web服务器")]),s._v(" "),a("h2",{attrs:{id:"简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[s._v("#")]),s._v(" 简介")]),s._v(" "),a("p",[s._v("Nginx (engine x) 是一个高性能的HTTP和反向代理web服务器，同时也提供了IMAP/POP3/SMTP服务。它是由俄罗斯人Igor Sysoev（伊戈尔·塞索耶夫）编写的。"),a("br"),s._v("\nNginx是一款轻量级的Web 服务器，因它的稳定性、丰富的功能集、示例配置文件和低系统资源消耗而闻名。其特点是占用内存少，并发能力强，事实上Nginx的并发能力在同类型的web服务器中表现较好。"),a("br"),s._v("\n在国内，已经有百度、京东、新浪、网易、腾讯、淘宝等多家网站使用Nginx作为Web服务器或反向代理服务器。")]),s._v(" "),a("h2",{attrs:{id:"选择nginx的理由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#选择nginx的理由"}},[s._v("#")]),s._v(" 选择Nginx的理由")]),s._v(" "),a("p",[s._v("高并发连接    官方测试Nginx能够支持5万并发连接，在实际生产环境中可支撑2-4万并发连接数。"),a("br"),s._v("\n消耗内存少     在同等硬件环境下，Nginx的处理能力相当于Apache的5-10倍。"),a("br"),s._v("\n成本低廉         Nginx作为开源软件，可以免费使用，并且可用于商业用途。"),a("br"),s._v("\n其它理由"),a("br"),s._v("\n配置文件非常简单"),a("br"),s._v("\n支持Rewrite重写规则"),a("br"),s._v("\n内置健康检查功能"),a("br"),s._v("\n节省带宽"),a("br"),s._v("\n稳定性高"),a("br"),s._v("\n...")]),s._v(" "),a("h2",{attrs:{id:"安装与配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装与配置"}},[s._v("#")]),s._v(" 安装与配置")]),s._v(" "),a("h3",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),a("blockquote",[a("p",[s._v("Mac如何安装nginx")])]),s._v(" "),a("p",[s._v("由于mac自带brew，所以mac下安装nginx相对比较简单。\n查看版本号：brew -v"),a("br"),s._v("\n更新Homebrew : brew update"),a("br"),s._v("\n搜索nginx：brew search nginx"),a("br"),s._v("\n安装：brew install nginx"),a("br"),s._v("\n查看nginx版本：nginx -v"),a("br"),s._v("\n查看nginx信息：brew info nginx"),a("br"),s._v("\n启动nginx：nginx"),a("br"),s._v("\n访问网址：http://localhost:8080"),a("br"),s._v("\n重启nginx：nginx -s reload")]),s._v(" "),a("pre",[a("code",[s._v("    sudo kill -QUIT 进程号\n")])]),s._v(" "),a("p",[s._v("1、查看brew版本")]),s._v(" "),a("pre",[a("code",[s._v("    brew -v\n")])]),s._v(" "),a("p",[s._v("2、更新Homebrew（如果版本比较老）")]),s._v(" "),a("pre",[a("code",[s._v("    brew update\n")])]),s._v(" "),a("p",[s._v("3.安装nginx")]),s._v(" "),a("pre",[a("code",[s._v("    brew search nginx\n    brew install nginx\n")])]),s._v(" "),a("p",[s._v("4.安装完成查看版本")]),s._v(" "),a("pre",[a("code",[s._v("    nginx -v\n")])]),s._v(" "),a("p",[s._v("可通过以下命令查看nginx信息，如安装路径等")]),s._v(" "),a("pre",[a("code",[s._v("    brew info nginx\n")])]),s._v(" "),a("p",[s._v("启动nginx")]),s._v(" "),a("pre",[a("code",[s._v("    nginx\n")])]),s._v(" "),a("p",[s._v("重启")]),s._v(" "),a("pre",[a("code",[s._v("    nginx -s reload\n")])]),s._v(" "),a("p",[s._v("关闭")]),s._v(" "),a("pre",[a("code",[s._v("    sudo kill -QUIT 进程号\n")])]),s._v(" "),a("p",[s._v("输入")]),s._v(" "),a("pre",[a("code",[s._v("    ps -ef|grep nginx\n")])]),s._v(" "),a("div",{staticClass:"language-vim line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-vim"}},[a("code",[s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("501")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44255")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("37")]),s._v("下午 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00.00")]),s._v(" nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" master process nginx\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("501")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44256")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44255")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("37")]),s._v("下午 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00.00")]),s._v(" nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" worker process\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("501")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11397")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11355")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 一"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("06")]),s._v("下午 ttys004    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00.03")]),s._v(" docker pull nginx\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("501")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11466")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11355")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 一"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("06")]),s._v("下午 ttys004    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00.02")]),s._v(" docker pull nginx\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("501")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44266")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44114")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("37")]),s._v("下午 ttys006    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00.00")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("color"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("auto "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("exclude"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("dir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("bzr "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("exclude"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("dir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CVS "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("exclude"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("dir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("git "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("exclude"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("dir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("hg "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("exclude"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("dir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("svn nginx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("可以看到第一个是我们当前启动的nginx  名称也要nginx")]),s._v(" "),a("blockquote",[a("p",[s._v("关闭nginx，直接杀死进程")])]),s._v(" "),a("pre",[a("code",[s._v("    nginx -s stop\n")])]),s._v(" "),a("p",[s._v("设置环境变量")]),s._v(" "),a("pre",[a("code",[s._v("    vim /etc/profile\n")])]),s._v(" "),a("p",[s._v("shift+G到最后一行  更改模式为insert->i")]),s._v(" "),a("pre",[a("code",[s._v("    export NGINX_HOME=/usr/local/nginx\n    export PATH=$PATH:$NGINX_HOME/sbin\n")])]),s._v(" "),a("p",[s._v("保存"),a("br"),s._v("\n1.按下esc键"),a("br"),s._v('\n2.输入":wq"(保存退出)  输入":q!"(不保存退出)')]),s._v(" "),a("p",[s._v("刷新环境变量")]),s._v(" "),a("pre",[a("code",[s._v("    source /etc/profile\n")])]),s._v(" "),a("p",[s._v("重新启动nginx，查看他的进程")]),s._v(" "),a("pre",[a("code",[s._v("    nginx\n    ps -ef|grep nginx\n")])]),s._v(" "),a("div",{staticClass:"language-vim line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-vim"}},[a("code",[s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("501")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("45002")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("58")]),s._v("下午 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00.00")]),s._v(" nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" master process nginx\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("501")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("45003")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("45002")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("58")]),s._v("下午 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00.00")]),s._v(" nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" worker process\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("501")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11397")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11355")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 一"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("06")]),s._v("下午 ttys004    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00.03")]),s._v(" docker pull nginx\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("501")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11466")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11355")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 一"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("06")]),s._v("下午 ttys004    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00.02")]),s._v(" docker pull nginx\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("501")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("45091")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("44114")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("下午 ttys006    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00.00")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("color"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("auto "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("exclude"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("dir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("bzr "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("exclude"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("dir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CVS "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("exclude"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("dir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("git "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("exclude"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("dir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("hg "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("exclude"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("dir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("svn nginx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("可以看到也正常启动起来了。"),a("br"),s._v("\nmac中默认的路径")]),s._v(" "),a("pre",[a("code",[s._v("    /usr/local/etc/nginx/nginx.conf （配置文件路径）\n")])]),s._v(" "),a("p",[s._v("可以通过")]),s._v(" "),a("pre",[a("code",[s._v("    open /usr/local/etc/nginx/\n")])]),s._v(" "),a("p",[s._v("来查看配置文件所在的文件夹")]),s._v(" "),a("p",[s._v("“html”的相对路径在哪里？此相对路径在编译时设置。可以通过命令检查路径：")]),s._v(" "),a("pre",[a("code",[s._v("      nginx -V\n")])]),s._v(" "),a("div",{staticClass:"language-vim line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-vim"}},[a("code",[s._v("TLS SNI support enabled\nconfigure arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("prefix"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("Cellar"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.17")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("3_1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("sbin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("path")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("Cellar"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.17")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("3_1"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bin")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("cc")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("opt")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'-I/usr/local/opt/pcre/include -I/usr/local/opt/openssl@1.1/include'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ld"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("opt")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'-L/usr/local/opt/pcre/lib -L/usr/local/opt/openssl@1.1/lib'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("conf")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("path")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("conf")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("pid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("path")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("var"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("run"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("pid "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("lock"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("path")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("var"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("run"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("lock "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("http"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("client"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("body"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("temp"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("path")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("var"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("run"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("client_body_temp "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("http"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("proxy"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("temp"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("path")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("var"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("run"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("proxy_temp "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("http"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("fastcgi"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("temp"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("path")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("var"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("run"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("fastcgi_temp "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("http"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("uwsgi"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("temp"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("path")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("var"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("run"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("uwsgi_temp "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("http"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("scgi"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("temp"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("path")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("var"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("run"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("scgi_temp "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("http"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("log"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("path")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("var"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("log"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("access"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("log "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("error"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("log"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("path")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("var"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("log"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("error"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),s._v("log "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("compat "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("debug")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("http_addition_module "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("http_auth_request_module "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("http_dav_module "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("http_degradation_module "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("http_flv_module "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("http_gunzip_module "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("http_gzip_static_module "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("http_mp4_module "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("http_random_index_module "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("http_realip_module "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("http_secure_link_module "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("http_slice_module "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("http_ssl_module "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("http_stub_status_module "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("http_sub_module "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("http_v2_module "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ipv6 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("mail "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("mail_ssl_module "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("pcre "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("pcre"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("jit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("stream "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("stream_realip_module "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("stream_ssl_module "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("with"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("stream_ssl_preread_module\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("--prefix=/usr/local/Cellar/nginx/1.17.3_1"),a("br"),s._v("\n然后就可以打开了")]),s._v(" "),a("pre",[a("code",[s._v("    open /usr/local/Cellar/nginx/1.17.3_1  \n")])]),s._v(" "),a("h3",{attrs:{id:"nginx一些简单的命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx一些简单的命令"}},[s._v("#")]),s._v(" nginx一些简单的命令")]),s._v(" "),a("p",[s._v("nginx -s stop  # 关闭nginx，直接杀死进程"),a("br"),s._v("\nnginx -s quit  # 平缓停止 将当前正在处理的网络请求处理完成之后关闭连接"),a("br"),s._v("\nnginx -s reload  # 重新加载配置文件"),a("br"),s._v("\nnginx -t  # 检查默认配置文件")]),s._v(" "),a("h3",{attrs:{id:"基本配置与优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本配置与优化"}},[s._v("#")]),s._v(" 基本配置与优化")]),s._v(" "),a("p",[s._v("配置文件默认在Nginx程序安装目录下的conf二级目录，主配置文件nginx.conf")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 使用的用户和组\nuser www www;\n\n# 指定工作衍生进程数\nworker_processes 8;\n\n# 指定错误日志存放路径\n# 错误日志记录级别可选： [debug | info | notice | warn | error |crit]\nerror_log logs/error.log info;\n\n# 指定pid存放的路径\npid log/nginx.pid;\n\n# 指定文件描述符数量\nworker_rlimit_nofile 51200;\n\nevents {\n\t# 使用网络I/O模型，linux系统推荐采用epoll模型\n\tuse epoll;\n\t\n\t# 允许连接数\n\tworker_connections 51200;\n}\n\nhttp {\n\tinclude\t\tmime.types;\n\tdefualt_type application/octet-stream;\n\t\n\t# 设置使用字符集\n\t# 一般在HTML代码中通过meta标签设置\n\tcharset gb2312;\n\t\n\tserver_names_hash_bucket_size 128;\n\tclient_header_buffer_size 32k;\n\tlarge_client_header_buffers 4 32k;\n\t\n\t# 设置客户端能够上传文件大小\n\tclient_max_body_size 8m;\n\t\n\tsendfile on;\n\ttcp_nopush on;\n\t\n\tkeepalive_timeout 60;\n\t\n\ttcp_nodelay on;\n\t\n\tfastcgi_connect_timeout 300;\n\tfastcgi_send_timeout 300;\n\tfastcgi_read_timeout 300;\n\tfastcgi_buffer_size 64k;\n\tfastcgi_buffers 4 64k;\n\tfastcgi_busy_buffers_size 128k;\n\tfastcgi_temp_file_write_size 128k;\n\t\n\t# 开启gzip\n\tgzip on;\n\tgzip_min_length 1k;\n\tgzip_buffers 4 16k;\n\tgzip_http_version 1.1;\n\tgzip_comp_level 2;\n\tgzip_types text/plain application/x-javascript text/css application/xml;\n\tgzip_vary on;\n\t\n\tserver {\n\t\tlisten 80;\n\t\tserver_name www.xxx.com xxx.com;\n\t\tindex index.html index.html index.php;\n\t\troot html;\n\t\t\n\t\t# limit_conn crawler 20;\n\t\tlocation ~ .*\\.(gif|jpg|jpeg|png|bmp|swf)$ {\n\t\t\texpires 30d;\n\t\t}\n\t\tlocation ~ .*\\.(js|css)?$ {\n\t\t\texpires 1h;\n\t\t}\n\t\t\n\t\tlog_format access '$remote_addr - $remote_user [$time_local] \"$request\" '\n\t\t\t'$status $body_bytes_send \"$http_refrer\" '\n\t\t\t'\"$http_user_aget\" $http-x-forwarded_for';\n\t\taccess_log logs/access.log access;\n\t}\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br")])]),a("h4",{attrs:{id:"虚拟主机配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#虚拟主机配置"}},[s._v("#")]),s._v(" 虚拟主机配置")]),s._v(" "),a("p",[s._v("虚拟主机使用特殊的软硬件技术，把一台服务器主机分成一台台“虚拟”主机，每台虚拟主机都可以是一个独立网站，可以具有独立域名，同一台主机上的虚拟主机之间是完全独立的。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("http {\n\t# 第一个虚拟主机\n\tserver {\n\t\t# 监听端口\n\t\tlisten 80;\n\t\t# 主机名称\n\t\tserver_name aaa.domain.com;\n\t\t# 访问日志存放路径\n\t\taccess_log logs/aaadomain.com.access.log combined;\n\t\tlocation / {\n\t\t\t# 默认首页文件，从左到右\n\t\t\tindex index.html;\n\t\t\t# 网站文件存放目录\n\t\t\troot /data0/htdocs/aaa.domain.com;\n\t\t}\n\t}\n\t\n\t# 第二个虚拟主机\n\tserver {\n\t\t# 监听端口\n\t\tlisten 80;\n\t\t# 主机名称\n\t\tserver_name aaa.domain.com;\n\t\t# 访问日志存放路径\n\t\taccess_log logs/aaadomain.com.access.log combined;\n\t\tlocation / {\n\t\t\t# 默认首页文件，从左到右\n\t\t\tindex index.html;\n\t\t\t# 网站文件存放目录\n\t\t\troot /data0/htdocs/aaa.domain.com;\n\t\t}\n\t}\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br")])]),a("h4",{attrs:{id:"日志配置与切割"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#日志配置与切割"}},[s._v("#")]),s._v(" 日志配置与切割")]),s._v(" "),a("p",[s._v("与Nginx日志相关指令主要有两条，一条是log_format，用于设置日志格式；另一条是access_log，用来指定日志文件存放路径、格式和缓存大小。这两条指令可以在Nginx配置文件中的位置可以在http之间也可以在server之间。")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("log_format")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("log_format name format [format ...]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("其中 name 表示定义的格式名称，format 表示定义的格式样式。")])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("log_format mylogformat '$http_x_forwarded_for - $remote_user [$time_local] '\n\t'\"$request\" $status $body_byte_sent '\n\t'\"$http_referer\" \"$http_user_agent\"';\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[a("p",[s._v("access_log")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("access_log path [format [buffer=size | off]]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("其中path表示日志文件存放路径，format 表示使用log_format指令设置的日志格式名称，buffer=size 表示设置内存缓冲区大小，如果不想记录日志，可以关闭日志 "),a("code",[s._v("access_log off;")])])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 使用自定义日志格式\naccess_log log/filename.log mylogformat buffer=32k; \n# Nginx 0.7.4 之后 access_log指令中可以包含变量\naccess_log log/$server_name.log mylogformat;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("blockquote",[a("p",[s._v("如果日志文件中含有变量：")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("Nginx进程设置的用户和组必须由对该路径创建文件的权限。")])]),s._v(" "),a("li",[a("p",[s._v("缓冲区将不会被使用。")])]),s._v(" "),a("li",[a("p",[s._v("对于每一条日志记录，日志文件将先打开文件，再写入日志，然后马上关闭。为了提高包含变量日志文件存放路径性能，须使用open_log_file_cache指令设置经常呗使用日志文件描述符缓存。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("open_log_file_cache max=1000 inactive=20s min_uses=2 valid=1m;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("日志文件切割")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 先通过mv命令重命名日志文件\nmv logs/access.log /logs/20200312.log\n# 然后发送kill -USER1信号给主进程，让Nginx重新生成一个新的日志文件\n# kill -USE1 Nginx主进程号\nkill -USR1 `cat /usr/local/nginx/logs/nginx.pid` # 注意不是USER1 而是USR1\n# 重新生成新日志文件，也可以借助nginx 发送信号\nngixn -s reopen\n# reopen 内部调用的就是kill命令\n# 每天定时切割，须借助crontab 然后写一个 shell 脚本\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])])])]),s._v(" "),a("h4",{attrs:{id:"压缩输出配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#压缩输出配置"}},[s._v("#")]),s._v(" 压缩输出配置")]),s._v(" "),a("p",[s._v("gzip是一种压缩技术。经过gzip压缩后页面大小可以变成原来的30%甚至更小。gzip压缩页面需要浏览器和服务器双方都支持，实际上就是服务端压缩，传到浏览器解压并解析。现在绝大多数浏览器都支持解析gzip过的页面。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("\tgzip on;\n\tgzip_min_length 1k;\n\tgzip_buffers 4 16k;\n\tgzip_http_version 1.1;\n\tgzip_comp_level 2;\n\tgzip_types text/plain application/x-javascript text/css application/xml;\n\tgzip_vary on;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h2",{attrs:{id:"高级应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#高级应用"}},[s._v("#")]),s._v(" 高级应用")]),s._v(" "),a("h3",{attrs:{id:"rewrite-应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rewrite-应用"}},[s._v("#")]),s._v(" Rewrite 应用")]),s._v(" "),a("p",[s._v("Rewrite主要功能就是实现URL重写。通过Rewrite规则，可以实现规范的URL，根据变量来做URL转向及选择配置。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("server{\n\tlocation / {\n\t\trewrite ^(.*).htmp$ /rewrite.html;\n\t}\t\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("访问****.htmp重写到rewrite.html")]),s._v(" "),a("h3",{attrs:{id:"负载均衡和反向代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#负载均衡和反向代理"}},[s._v("#")]),s._v(" 负载均衡和反向代理")]),s._v(" "),a("ul",[a("li",[s._v("负载均衡")])]),s._v(" "),a("blockquote",[a("p",[s._v("由多台服务器以对称的方式组成一个服务器集合，每台服务器都具有等价的地位，都可以单独对外提供服务而无需其它服务器的辅助。")])]),s._v(" "),a("ul",[a("li",[s._v("反向代理")])]),s._v(" "),a("blockquote",[a("p",[s._v("指以代理服务器来接收Internet上的连接请求，然后将请求转发给网络上的服务器，并将从该服务器得到的结果返回给Internet上请求连接的客户端，此时代理服务器对外就表现为一个服务器。")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("负载均衡与反向代理配置")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 反向代理配置\n# 直接配置\nserver {\n\t...\n\tlocation / {\n\t\tproxy_pass http://xxx.com;\n\t}\n\t...\n}\n\n# 通过别名配置\nhttp {\n...\nupstream 别名 {\n\tserver ip:端口;\n}\nserver {\n\t...\n\tlocation / {\n\t\tproxy_pass http://别名;\n\t}\n\t...\n}\n...\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(" server{\n    # 端口\n    listen 440;\n    # 主机名 域名\n    server_name aaa.domain.com;\n    #需要做本机配置映射\n    #vim /etc/hosts  \n    #127.0.0.1 aaa.domain.com\n\n\n    #日志文件存放配置\n    #access_log logs/aaa.domain.com.access.log combined;\n    location / {\n      index index.html index.php;\n      root html/;\n    }\n    # 转发\n    location /api/ {\n      proxy_pass http://www.e21.cn/;\n    }\n\n  }\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 负载均衡\n# 别名中可以放多个server \n# nginx 可以进行简单轮巡\n\nhttp {\n...\nupstream 别名 {\n\tserver ip:端口;\n\tserver ip:端口;\n\t\n}\nserver {\n\t...\n\tlocation / {\n\t\tproxy_pass http://别名;\n\t}\n\t...\n}\n...\n}\n```\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])])])])])}),[],!1,null,null,null);t.default=n.exports}}]);